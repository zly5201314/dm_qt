require(["/pc/js/require/config.js?v="+require_ver.version],function(){require(["boxesFx","carousel","fullPage","commonLazy","commonTips","pikaDay"],function(t,e,i,s,a,n){function c(){!function(t){$("."+t+" li").length&&$("."+t+" li:first-child").addClass("active")}("rec_items"),l("destinations"),l("theme")}function l(t){if($("."+t+" .country_select li").length){var e=$("."+t+" .country_select li:first-child");e.addClass("active"),$("."+t+" .tabs .tabs_box").each(function(t,i){new BoxesFx(i.children[0]),e.data("title")==$(i).data("info")&&$(i).removeClass("hide")})}}function r(t,e){t&&(e?$("."+t+" .tabs_box").each(function(t,i){e==$(i).data("info")?$(i).removeClass("hide"):$(i).addClass("hide")}):$("."+t+" .tabs_box").each(function(t,e){$(e).addClass("hide")}))}c();$("#diy_form input[name=url]");var o=$("#diy_form input[name=city]"),d=$("#diy_form input[name=contact]"),u=$("#diy_form input[name=phone]"),v=!1,h=0,f=0,m=/^1\d{10}$/;u.blur(function(){m.test(u.val())?(v=!0,u.css("border","none")):(v=!1,u.css("border","2px solid red"))}),$("#start-date").pikaday({onSelect:function(t){$("span.extraUsetime").text(t)}}),$("ul.rec_items").on("mouseover","li",function(t){t.preventDefault(),$(this).siblings("li").removeClass("active").children(".rec_item_des").css("display","none"),$(this).addClass("active").children(".rec_item_des").css("display","block")}),$("ul.rec_items").on("click","li",function(){window.location=$(this).find("a").attr("href")}),$(".country_select").on("click","li",function(t){t.preventDefault();r($(this).parents(".hot_layout").attr("class").split(" ")[1],$(this).data("title")),$(this).siblings("li").removeClass("active").children(".rec_item_des"),$(this).addClass("active").children(".rec_item_des")}),$(".destinations .tabs_titile").on("click","span",function(t){t.preventDefault();var e=$(this).prop("className"),i=$(".destinations .country_select li.active"),s=$(".destinations .country_select").children()[0].className,a=$(".destinations .country_select").children("li:last-child")[0].className,n=$(".destinations .country_select").children().length;if("pre"==e){if("active"==s)return;h-=1,i.removeClass("active").prev().addClass("active"),$(".destinations .country_select").css({left:"-"+170*h+"px"});r(c=$(this).parents(".destinations").attr("class").split(" ")[1],l=$(".destinations .country_select li.active").data("title"))}else{if("next"!=e)return;if("active"==a)return;if(h+=1,n-h<=5&&n-h>=1){i.removeClass("active").next().addClass("active"),h-=1;return void r(c=$(this).parents(".destinations").attr("class").split(" ")[1],l=$(".destinations .country_select li.active").data("title"))}i.removeClass("active").next().addClass("active"),$(".destinations .country_select").css({left:"-"+170*h+"px"});var c=$(this).parents(".destinations").attr("class").split(" ")[1],l=$(".destinations .country_select li.active").data("title");r(c,l)}}),$(".theme .tabs_titile").on("click","span",function(t){t.preventDefault();var e=$(this).prop("className"),i=$(".theme .country_select li.active"),s=$(" .theme .country_select").children()[0].className,a=$(".theme .country_select").children("li:last-child")[0].className,n=$(".theme .country_select").children().length;$(".theme .tabs_titile .country_select li.active").index();if("pre"==e){if("active"==s)return;f-=1,i.removeClass("active").prev().addClass("active"),$(".theme .country_select").css({left:"-"+170*f+"px"});r(c=$(this).parents(".theme").attr("class").split(" ")[1],l=$(".theme .country_select li.active").data("title"))}else{if("next"!=e)return;if("active"==a)return;if(f+=1,n-f<=5&&n-f>=1){i.removeClass("active").next().addClass("active"),f-=1;return void r(c=$(this).parents(".theme").attr("class").split(" ")[1],l=$(".theme .country_select li.active").data("title"))}i.removeClass("active").next().addClass("active"),$(".theme .country_select").css({left:"-"+170*f+"px"});var c=$(this).parents(".theme").attr("class").split(" ")[1],l=$(".theme .country_select li.active").data("title");r(c,l)}}),$(".allEvaluate").on("mouseover"," .top",function(){var t=$(this).children(".doublepic"),e=t.attr("src");t.attr("src",t.data("back")),t.data("back",e)}).on("mouseout"," .top",function(){var t=$(this).children(".doublepic"),e=t.attr("src");t.attr("src",t.data("back")),t.data("back",e)}),$("a.diyformBtn").on("click",function(t){if(t.preventDefault(),v){var e=$.trim(u.val()),i=$.trim(d.val()),s=$.trim(o.val()),n=$.trim($("#diy_form input[name=url]").val());a.loadShow.init(),$.post($diyUrl,{is_code:2,url:n,action:2,city:s,contact:i,phone:e},function(t){if(a.loadShow.close(),5==t.code){v=!1;e={flagicon:"icon-success",color:"#41d090",contentHtml:t.info,closeBtn:!1};a.Walert(e),$("#diy_form")[0].reset()}else{var e={contentHtml:t.info,closeBtn:!1};a.Walert(e)}},"json")}else u.css("border","2px solid red")}),$(".search_box >div >input").focus(function(t){$(this).siblings("ul").css("display","block")}).blur(function(t){var e=$(this);setTimeout(function(){e.siblings("ul").css("display","none")},200)}),$(".search_box").on("click","ul li",function(t){var e=$(this).text();$(this).parent().siblings("input").val(e)}),$(".search_btn a").click(function(t){t.preventDefault();var e=function(t){if(t){var e={};for(x in t)e[t[x].name]=t[x].value;return e}}($(".searchMade").serializeArray());window.location="search.html?key="+e.termini+e.theme+"&diy"})})});